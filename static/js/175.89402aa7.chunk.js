"use strict";(self.webpackChunkreact_homework_05_movies=self.webpackChunkreact_homework_05_movies||[]).push([[175],{175:function(e,t,s){s.r(t),s.d(t,{default:function(){return S}});var n=s(861),r=s(439),o=s(757),a=s.n(o),i=s(887),c=s(791),u=s(87),l={searchbar:"MoviesSearch_searchbar__r8wBs",form:"MoviesSearch_form__JG0bG",button:"MoviesSearch_button__1NvzC",input:"MoviesSearch_input__V0qlz"},m=s(184),v=function(e){var t=e.onSubmit,s=(0,c.useState)(""),n=(0,r.Z)(s,2),o=n[0],a=n[1];console.log(o);return(0,m.jsx)("header",{className:l.searchbar,children:(0,m.jsxs)("form",{className:l.form,onSubmit:function(e){e.preventDefault(),t(o),a("")},children:[(0,m.jsx)("input",{onChange:function(e){return a(e.target.value)},name:"search",value:o,type:"text",autoComplete:"off",placeholder:"Search movies",autoFocus:!0,required:!0,className:l.input}),(0,m.jsx)("button",{type:"submit",className:l.button,children:(0,m.jsx)("span",{className:l.span,children:"Search"})})]})})},_="MoviesItems_items__DMrRR",h="MoviesItems_images__jsBNi",f="MoviesItems_menu__cMrwd",p="MoviesItems_title__f8ThV",d="MoviesItems_link__RWqVM",x=function(e){var t=e.movies,s=null===t||void 0===t?void 0:t.map((function(e){var t=e.id,s=e.poster_path,n=e.original_title;return(0,m.jsx)(u.rU,{to:"/movies/".concat(t),className:d,children:(0,m.jsxs)("li",{className:_,children:[(0,m.jsx)("img",{className:h,src:s?"https://image.tmdb.org/t/p/w400".concat(s):"https://via.placeholder.com/400x600",alt:"#"}),(0,m.jsx)("p",{className:p,children:n})]},t)},t)}));return(0,m.jsx)("ul",{className:f,children:s})},b="MoreMoviesButton_buttonLoadMore__86fPC",j=function(e){var t=e.onClick;return(0,m.jsx)("button",{onClick:t,className:b,children:"Load more"})},M=s(639),S=function(){var e=(0,c.useState)([]),t=(0,r.Z)(e,2),s=t[0],o=t[1],l=(0,c.useState)(1),_=(0,r.Z)(l,2),h=_[0],f=_[1],p=(0,c.useState)(1),d=(0,r.Z)(p,2),b=d[0],S=d[1],g=(0,c.useState)(!1),N=(0,r.Z)(g,2),k=N[0],w=N[1],C=(0,u.lr)(),Z=(0,r.Z)(C,2),q=Z[0],y=Z[1],I=q.get("query");console.log("\u041a\u043e\u043c\u0440\u043b\u043d\u0435\u043d\u0442 Movies",I),(0,c.useEffect)((function(){if(I){var e=function(){var e=(0,n.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,(0,i.V0)(I,h);case 4:t=e.sent,S(null===t||void 0===t?void 0:t.total_pages),o(null===t||void 0===t?void 0:t.results),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message.error);case 12:return e.prev=12,w(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();e()}}),[I,h]);return(0,m.jsxs)("div",{children:[(0,m.jsx)(v,{onSubmit:function(e){y({query:e}),o([]),f(1)}}),k&&(0,m.jsx)(M.Z,{}),s&&(0,m.jsx)(x,{movies:s}),Boolean(h!==b)&&(0,m.jsx)(j,{onClick:function(){f((function(e){return e+1}))}})]})}}}]);
//# sourceMappingURL=175.89402aa7.chunk.js.map